function saveBeforeInstallPromptEvent(){installPromptEvent=event}function installPWA(n){installPromptEvent.prompt();n.srcElement.setAttribute("hidden",!0);installPromptEvent.userChoice.then(n=>{n.outcome==="accepted"?console.log("User accepted the A2HS prompt",n):console.log("User dismissed the A2HS prompt",n),installPromptEvent=null})}function logAppInstalled(){alert("App 已安裝完成，請至您的桌面查看")}let installPromptEvent=null;const installButton=document.getElementById("btn-addHome");installButton.addEventListener("click",installPWA);window.addEventListener("beforeinstallprompt",saveBeforeInstallPromptEvent);window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),installButton.removeAttribute("hidden")});window.addEventListener("appinstalled",logAppInstalled);